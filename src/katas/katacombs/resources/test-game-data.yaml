rooms:
  - name: nowhere
    title: Nowhere
    description: You’re on the road to Nowhere

  - name: start
    title: Lost in Shoreditch
    description: >
      You are standing at the end of a brick lane before a small brick building called 
      "The Old Truman Brewery". 
      Around you is a forest of restaurants and bars. A small stream of crafted beer flows out of 
      the building and down a gully.
    connections:
      - direction: north
        target: building
        description: >
          I see a brick building with a sign saying "Truman Brewery and a wooden white door".
        words: [ building, inside ]

  - name: building
    title: Inside the building
    description: You are inside the main room of the Truman Brewery.
    connections:
      - direction: south
        target: start
        words: [ outside, door ]
    items:
      - name: casks
        description:
          room: There is a strong smell of hops and a dozen empty casks.
        immovable: true
        triggers:
          - verb: look
            actions:
              - command: reveal
                argument: coin
                responses:
                  success: >
                    You peer closely at the casks. Amidst the dust and cobwebs, 
                    a glint catches your eye — a single coin nestled against the wood. 
                    A hidden treasure or someone’s forgotten tip?
                  failure: >
                    You take another look at the casks, hoping for a second coin. 
                    All you find is disappointment.

      - name: keys
        words: [ keyring ]
        description:
          inventory: Set of keys
          room: There are some keys on the ground here.
          look: It’s a key ring with three rusty keys on it.

      - name: coin
        description:
          inventory: A coin
          room: There’s a coin here.
          look: >
            It’s an old coin, worn and tarnished. You wonder if it’s worth anything 
            — or if it’s just another relic for your growing junk collection.
        visible: false

      - name: lantern
        words: [ light, lamp ]
        description:
          inventory: Brass lantern
          room: >
            There’s a shiny brass lantern nearby. 
            It practically screams, ‘Take me! I’m functional and stylish!’
          look: >
            It’s so polished you can see your reflection, which is both exciting and mildly unsettling.
        states:
          lit:
            room: It shines brightly, illuminating the surroundings.
            inventory: "- the flame dances steadily."
            look: The flame dances steadily.
          unlit:
            room: It is dark and cold.
            look: It looks like it could be lit.
        initialState: unlit
        triggers:
          - verb: light
            actions:
              - command: changeState
                argument: lamp
                parameter: lit
                responses:
                  success: >
                    The lamp sputters for a moment, as if clearing its throat, 
                    then bursts into a steady flame. 
                    It seems proud of itself.
                  failure: >
                    The lamp is already shining brightly! Trying to overachieve, aren't we?
          - verb: extinguish
            actions:
              - command: changeState
                argument: lamp
                parameter: unlit
                responses:
                  success: >
                    As you extinguish the lamp, it lets out a final flicker, as if saying, 
                    "But I was just getting started!"
                  failure: >
                    An epic battle ensues between you and... wait, no. The lamp is already off. 
                    Victory without lifting a finger.
          - verb: drop
            actions:
              - command: drop
                argument: lamp
                responses:
                  success: >
                    You drop the lamp. It bounces once, lands upright, and seems smug about its durability.
                  failure: >
                    You try to drop the lamp, but you’re not holding it. How do you drop something 
                    you never had? Deep thoughts.
          - verb: rub
            actions:
              - command: speak
                argument: >
                  You rub the lamp. Nothing happens. Maybe it’s out of genies, 
                  or maybe you’re just not their type.
          - verb: kick
            actions:
              - command: speak
                argument: >
                  You kick the lamp. It wobbles dangerously, then tips over and lands on your foot. 
                  Well played, lamp.
          - verb: talk
            actions:
              - command: speak
                argument: >
                  You say a few kind words to the lamp. It doesn’t say anything back, 
                  but it seems to shine a little brighter. How sweet.
          - verb: eat
            actions:
              - command: speak
                argument: >
                  You nibble at the lamp. It’s oily, crunchy, and incredibly bad for your teeth.
          - verb: push
            actions:
              - command: speak
                argument: >
                  You push the object. It wobbles, then stays exactly where it was. 
                  Maybe you should push your luck instead.
          - verb: touch
            actions:
              - command: speak
                argument: >
                  You touch the lamp. It’s oddly smooth and slightly sticky. 
                  You immediately regret your curiosity.
          - verb: kiss
            actions:
              - command: speak
                argument: >
                  You kiss the lamp, and for a brief moment, you think you hear a genie laughing. 
                  Must be your imagination.

      - name: desk
        description:
          room: > 
            Tucked into the corner of the room, an old desk leans slightly, its weathered 
            surface cluttered with the echoes of forgotten tasks.
          look: >
            You look at the desk. It’s covered in papers, pens, and existential dread.
        immovable: true
